.page-questions-index
  %h1= t('page.questions.index')

  = page_button_group :questions do |g|
    - g.add '发起提问', '/questions/new'

  = paginate @feeds

  = page_tile(:'questions-feeds', @feeds) do
    - add_left(:avatar) do |feed|
      = avatar feed.to.creator
    - add(:desc) do |feed|
      = feed_desc feed
    - context do |feed|
      - if feed.what == 'create_question'
        - question = feed.to
        - add(:title) do
          %a{:href => "/questions/#{question.id}"}= question.title
        - add(:content) do
          = question.content
        - add_foot(:answers) do
          %a{:href => "/questions/#{question.id}"} #{question.answers.count} 个回答
      - if feed.what == 'create_answer'
        - answer = feed.to
        - question = answer.question
        - add(:title) do
          %a{:href => "/questions/#{question.id}"}= question.title
        - add(:'answer-content') do
          = answer.content